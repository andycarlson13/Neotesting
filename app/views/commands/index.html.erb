<h2>Cord commands</h2>
<div class='container'>
  <select id="commands">
    <option value="on_params">All On</option>
    <option value="off_params">All Off</option>
    <option value="pattern_params">Pattern</option>
    <option value="rainbow_params">Rainbow</option>
    <option value="snake_params">Snake</option>
    <option value="patterned_snake_params">Patterned Snake</option>
    <option value="christmas_params">Christmas</option>
    <option value="dots_params">Moving Dots</option>
    <option value="lightshow_params">Lightshow</option>
    <option value="middle_pulse_params">Middle Pulse</option>
    <option value="game_of_life_params">Game Of Life</option>
  </select>
  <%= form_tag(commands_path, id: "commands-form" ) do %>
    <div name="on_params" id="on_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "all_on") %>
    </div>
    <div name="off_params" id="off_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "all_off") %>
    </div>
    <div name="pattern_params" id="pattern_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "pattern") %>
    </div>
    <div name="rainbow_params" id="rainbow_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "rainbow") %>
    </div>
    <div name="snake_params" id="snake_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "snake") %>
      <div>
        <%= label_tag 'Snake length' %>
        <%= number_field_tag 'snake_length', nil, in: 1...236 %>
      </div>
      <div>
        <%= label_tag 'Snake color' %>
        <%= color_field_tag 'snake_color' %>
      </div>
    </div>
    <div name="patterned_snake_params" id="patterned_snake_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "patterned_snake") %>
    </div>
    <div name="christmas_params" id="christmas_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "christmas") %>
    </div>
    <div name="dots_params" id="dots_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "moving_dots") %>
    </div>
    <div name="lightshow_params" id="lightshow_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "lightshow") %>
    </div>
    <div name="middle_pulse_params" id="middle_pulse_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "middle_pulse") %>
    </div>
    <div name="game_of_life_params" id="game_of_life_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "game_of_life") %>
    </div>
    <div class="actions">
      <%= label_tag 'Cord' %>
      <%= collection_select :cord, :apiotics_instance, @cords, :apiotics_instance, :name, include_blank: false %>
      <%= submit_tag("Execute command", disabled: true, class: "run_command") %>
    </div>
  <% end %>
  <%= link_to 'Back', cords_path %>
</div>
<script>
  $(function(){
      $('#commands').change(function() {
        $('.command_params').hide();
        $('#' + $(this).val()).show();
      });
    });

  $(document).ready(function(){
    $('#commands').trigger('change');
  });

    
</script>
