<h2>Cord commands</h2>
<div class='container'>
	<select id="commands">
		<option value="pattern_params">Pattern</option>
		<option value="rainbow_params">Rainbow</option>
		<option value="snake_params">Snake</option>
	</select>
  <%= form_tag(commands_path, id: "commands-form" ) do %>
    <div name="pattern_params" id="pattern_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "pattern") %>
    </div>
  	<div name="rainbow_params" id="rainbow_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "rainbow") %>
  	</div>
  	<div name="snake_params" id="snake_params" class="command_params" style="display:none">
      <%= hidden_field_tag(:command, "snake") %>
			<div>
        <%= label_tag 'Snake length' %>
        <%= number_field_tag 'snake_length', nil, in: 1...236 %>
			</div>
			<div>
        <%= label_tag 'Snake color' %>
        <%= color_field_tag 'snake_color' %>
				<!-- <span><input type="color" id="snake_color" /> -->
			</div>
  	</div>
    <div class="actions">
      <%= submit_tag("Execute command") %>
    </div>
  <% end %>
	<%= link_to 'Back', cords_path %>
</div>
<script>
	$(function(){
	    $('#commands').change(function() {
	        $('.command_params').hide();
	        $('#' + $(this).val()).show();
	    });
    });

    $(document).ready(function(){
    	$('#commands').trigger('change');
    });
</script>